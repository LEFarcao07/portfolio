<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modul Matriks dan Vektor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.6.0/math.js"></script>
    <script>
      (function () {
        const savedTheme = localStorage.getItem("theme") || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
        document.documentElement.classList.toggle("dark", savedTheme === "dark");
      })();

      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "Segoe UI", "Tahoma", "Geneva", "Verdana", "sans-serif"],
            },
            colors: {
              primary: { light: "#3B82F6", dark: "#60A5FA" },
              dark: { light: "#1F2937", dark: "#111827" },
              light: { light: "#F8F9FA", dark: "#1F2937" },
            },
          },
        },
        corePlugins: { preflight: false },
      };
    </script>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      a { text-decoration: none; }
      .operation-btn { transition: all 0.2s ease; }
      .operation-btn:hover { transform: translateY(-2px); }
      .matrix-input { width: 50px; text-align: center; margin: 2px; }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 min-h-screen">
    <nav class="bg-white dark:bg-gray-800 shadow-sm">
      <div class="px-4 py-3 flex justify-between items-center">
        <a href="../index" class="text-blue-600 dark:text-blue-400 font-semibold">← Kembali</a>
        <button id="theme-toggle" type="button" class="p-2 border-transparent bg-white dark:bg-dark-light text-dark dark:text-gray-300 rounded-lg focus:outline-none transform hover:rotate-12">
          <svg id="theme-toggle-dark-icon" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
          <svg id="theme-toggle-light-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
        </button>
      </div>
    </nav>

    <main class="container mx-auto px-4 py-8 max-w-4xl">
      <h1 class="text-2xl font-bold text-center mb-8 text-gray-800 dark:text-white">Modul Pembelajaran Matriks dan Vektor</h1>

      <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-6">
        <h2 class="text-xl font-semibold mb-4 text-blue-600 dark:text-blue-400">Operasi Matriks</h2>
        <p class="mb-4 text-gray-700 dark:text-gray-300">Lakukan operasi dasar pada matriks 2x2: penjumlahan, pengurangan, dan perkalian.</p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <div>
            <h3 class="text-lg font-medium mb-2 text-gray-700 dark:text-gray-300">Matriks A</h3>
            <div class="grid grid-cols-2 gap-1">
              <input type="number" id="a11" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="1">
              <input type="number" id="a12" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="2">
              <input type="number" id="a21" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="3">
              <input type="number" id="a22" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="4">
            </div>
          </div>
          <div>
            <h3 class="text-lg font-medium mb-2 text-gray-700 dark:text-gray-300">Matriks B</h3>
            <div class="grid grid-cols-2 gap-1">
              <input type="number" id="b11" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="5">
              <input type="number" id="b12" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="6">
              <input type="number" id="b21" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="7">
              <input type="number" id="b22" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="8">
            </div>
          </div>
        </div>

        <div class="grid grid-cols-3 gap-2 mb-4">
          <button onclick="matrixOperation('add')" class="operation-btn bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded dark:bg-blue-600 dark:hover:bg-blue-700">A + B</button>
          <button onclick="matrixOperation('subtract')" class="operation-btn bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded dark:bg-green-600 dark:hover:bg-green-700">A - B</button>
          <button onclick="matrixOperation('multiply')" class="operation-btn bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded dark:bg-purple-600 dark:hover:bg-purple-700">A × B</button>
        </div>

        <div id="matrix-result" class="text-gray-700 dark:text-gray-300 p-3 bg-gray-100 dark:bg-gray-700 rounded"></div>
      </div>

      <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-6">
        <h2 class="text-xl font-semibold mb-4 text-blue-600 dark:text-blue-400">Determinan dan Invers Matriks</h2>
        <p class="mb-4 text-gray-700 dark:text-gray-300">Hitung determinan dan invers matriks 2x2.</p>

        <div class="mb-4">
          <h3 class="text-lg font-medium mb-2 text-gray-700 dark:text-gray-300">Matriks</h3>
          <div class="grid grid-cols-2 gap-1 w-min mx-auto">
            <input type="number" id="m11" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="1">
            <input type="number" id="m12" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="2">
            <input type="number" id="m21" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="3">
            <input type="number" id="m22" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="4">
          </div>
        </div>

        <div class="grid grid-cols-2 gap-2 mb-4">
          <button onclick="matrixDetInv('determinant')" class="operation-btn bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded dark:bg-yellow-600 dark:hover:bg-yellow-700">Determinan</button>
          <button onclick="matrixDetInv('inverse')" class="operation-btn bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded dark:bg-indigo-600 dark:hover:bg-indigo-700">Invers</button>
        </div>

        <div id="det-inv-result" class="text-gray-700 dark:text-gray-300 p-3 bg-gray-100 dark:bg-gray-700 rounded"></div>
      </div>

      <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
        <h2 class="text-xl font-semibold mb-4 text-blue-600 dark:text-blue-400">Operasi Vektor</h2>
        <p class="mb-4 text-gray-700 dark:text-gray-300">Lakukan operasi dasar pada vektor 2D: penjumlahan, perkalian dot, dan perkalian skalar.</p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <div>
            <h3 class="text-lg font-medium mb-2 text-gray-700 dark:text-gray-300">Vektor v</h3>
            <div class="flex">
              <input type="number" id="vx" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="1">
              <input type="number" id="vy" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="2">
            </div>
          </div>
          <div>
            <h3 class="text-lg font-medium mb-2 text-gray-700 dark:text-gray-300">Vektor w</h3>
            <div class="flex">
              <input type="number" id="wx" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="3">
              <input type="number" id="wy" class="matrix-input p-1 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="4">
            </div>
          </div>
        </div>

        <div class="grid grid-cols-3 gap-2 mb-4">
          <button onclick="vectorOperation('add')" class="operation-btn bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded dark:bg-blue-600 dark:hover:bg-blue-700">v + w</button>
          <button onclick="vectorOperation('dot')" class="operation-btn bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded dark:bg-green-600 dark:hover:bg-green-700">v · w</button>
          <button onclick="vectorOperation('scalar')" class="operation-btn bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded dark:bg-purple-600 dark:hover:bg-purple-700">k × v</button>
        </div>

        <div class="mb-4" id="scalar-input-container" style="display: none;">
          <label class="block text-gray-700 dark:text-gray-300 mb-2" for="scalar-k">Nilai skalar k:</label>
          <input type="number" id="scalar-k" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600" value="2">
        </div>

        <div id="vector-result" class="text-gray-700 dark:text-gray-300 p-3 bg-gray-100 dark:bg-gray-700 rounded"></div>
      </div>
    </main>

    <script>
      // Theme toggle
      const themeToggleBtn = document.getElementById("theme-toggle");
      const themeToggleDarkIcon = document.getElementById(
        "theme-toggle-dark-icon"
      );
      const themeToggleLightIcon = document.getElementById(
        "theme-toggle-light-icon"
      );

      if (
        localStorage.getItem("theme") === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        themeToggleLightIcon.classList.remove("hidden");
        themeToggleDarkIcon.classList.add("hidden");
      } else {
        themeToggleLightIcon.classList.add("hidden");
        themeToggleDarkIcon.classList.remove("hidden");
      }

      themeToggleBtn.addEventListener("click", function () {
        themeToggleDarkIcon.classList.toggle("hidden");
        themeToggleLightIcon.classList.toggle("hidden");
        if (localStorage.getItem("theme") === "dark") {
          localStorage.setItem("theme", "light");
          document.documentElement.classList.remove("dark");
        } else {
          localStorage.setItem("theme", "dark");
          document.documentElement.classList.add("dark");
        }
      });

      // Matrix operations
      function matrixOperation(operation) {
        // Get matrix A values
        const a11 = parseFloat(document.getElementById("a11").value);
        const a12 = parseFloat(document.getElementById("a12").value);
        const a21 = parseFloat(document.getElementById("a21").value);
        const a22 = parseFloat(document.getElementById("a22").value);
        
        // Get matrix B values
        const b11 = parseFloat(document.getElementById("b11").value);
        const b12 = parseFloat(document.getElementById("b12").value);
        const b21 = parseFloat(document.getElementById("b21").value);
        const b22 = parseFloat(document.getElementById("b22").value);
        
        let result11, result12, result21, result22;
        
        switch(operation) {
          case 'add':
            result11 = a11 + b11;
            result12 = a12 + b12;
            result21 = a21 + b21;
            result22 = a22 + b22;
            break;
          case 'subtract':
            result11 = a11 - b11;
            result12 = a12 - b12;
            result21 = a21 - b21;
            result22 = a22 - b22;
            break;
          case 'multiply':
            result11 = a11 * b11 + a12 * b21;
            result12 = a11 * b12 + a12 * b22;
            result21 = a21 * b11 + a22 * b21;
            result22 = a21 * b12 + a22 * b22;
            break;
        }
        
        document.getElementById("matrix-result").innerHTML = `
          <p>Hasil:</p>
          <table class="mx-auto">
            <tr>
              <td class="p-2">${result11.toFixed(2)}</td>
              <td class="p-2">${result12.toFixed(2)}</td>
            </tr>
            <tr>
              <td class="p-2">${result21.toFixed(2)}</td>
              <td class="p-2">${result22.toFixed(2)}</td>
            </tr>
          </table>
        `;
      }

      // Matrix determinant and inverse
      function matrixDetInv(operation) {
        const m11 = parseFloat(document.getElementById("m11").value);
        const m12 = parseFloat(document.getElementById("m12").value);
        const m21 = parseFloat(document.getElementById("m21").value);
        const m22 = parseFloat(document.getElementById("m22").value);
        
        if(operation === 'determinant') {
          const det = m11 * m22 - m12 * m21;
          document.getElementById("det-inv-result").innerHTML = `
            <p>Determinan = (${m11} × ${m22}) - (${m12} × ${m21}) = ${det}</p>
          `;
        } else if(operation === 'inverse') {
          const det = m11 * m22 - m12 * m21;
          if(det === 0) {
            document.getElementById("det-inv-result").innerHTML = "Matriks tidak memiliki invers karena determinannya 0";
            return;
          }
          
          const inv11 = m22 / det;
          const inv12 = -m12 / det;
          const inv21 = -m21 / det;
          const inv22 = m11 / det;
          
          document.getElementById("det-inv-result").innerHTML = `
            <p>Invers Matriks:</p>
            <table class="mx-auto">
              <tr>
                <td class="p-2">${inv11.toFixed(2)}</td>
                <td class="p-2">${inv12.toFixed(2)}</td>
              </tr>
              <tr>
                <td class="p-2">${inv21.toFixed(2)}</td>
                <td class="p-2">${inv22.toFixed(2)}</td>
              </tr>
            </table>
            <p class="mt-2">Determinan = ${det}</p>
          `;
        }
      }

      // Vector operations
      function vectorOperation(operation) {
        const vx = parseFloat(document.getElementById("vx").value);
        const vy = parseFloat(document.getElementById("vy").value);
        const wx = parseFloat(document.getElementById("wx").value);
        const wy = parseFloat(document.getElementById("wy").value);
        
        const scalarInput = document.getElementById("scalar-input-container");
        scalarInput.style.display = operation === 'scalar' ? 'block' : 'none';
        
        let result;
        
        switch(operation) {
          case 'add':
            result = `(${vx + wx}, ${vy + wy})`;
            break;
          case 'dot':
            result = vx * wx + vy * wy;
            break;
          case 'scalar':
            const k = parseFloat(document.getElementById("scalar-k").value);
            result = `(${k * vx}, ${k * vy})`;
            break;
        }
        
        document.getElementById("vector-result").innerHTML = `
          <p>Hasil: ${result}</p>
        `;
      }
    </script>
</body>
</html>